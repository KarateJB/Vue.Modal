Vue.component("pop-modal",{props:["isFix"],data:function(){return{modalMaskClass:{"modal-mask-fix":this.isFix,"modal-mask-nonfix":!this.isFix},modalWrapperClass:{center:!0,"modal-wrapper":!0},modalBodyClass:{"modal-body-fix":this.isFix,"modal-body-nonfix":!this.isFix},modalMaskStyle:null}},methods:{getElementExactPosition:function(el,hierarchy){let xPos=0,yPos=0,poslogs=[];for(;el;){if("body"==el.tagName.toLowerCase()){var xScroll=el.scrollLeft||document.documentElement.scrollLeft,yScroll=el.scrollTop||document.documentElement.scrollTop;xPos+=el.offsetLeft-xScroll+el.clientLeft,yPos+=el.offsetTop-yScroll+el.clientTop}else xPos+=el.offsetLeft-el.scrollLeft+el.clientLeft,yPos+=el.offsetTop-el.scrollTop+el.clientTop;poslogs.push({x:xPos,y:yPos}),el=el.offsetParent}return null!=hierarchy?poslogs[hierarchy]:poslogs[poslogs.length-1]},handleResize:function(windowWidth,windowHeight){let left=0,top=0,exactPos=null,element=document.getElementById("modalMask");windowWidth<=100||(windowWidth&&windowHeight?(left=(exactPos=this.getElementExactPosition(element,0)).x,top=exactPos.y):(windowWidth=Math.max(window.innerWidth,document.body.clientWidth),windowHeight=Math.max(window.innerHeight,document.body.clientHeight),left=0-(exactPos=this.getElementExactPosition(element)).x,top=0-exactPos.y),this.modalMaskStyle={left:left+"px",top:top+"px",width:windowWidth+"px",height:windowHeight+"px"})},closeModal:function($event){"modalMask"===$event.target.parentElement.id&&this.$emit("cancel")}},mounted:function(){let vm=this;if("true"!==vm.isFix){vm.handleResize(),Rx.Observable.fromEvent(window,"resize").map(function(x){return{width:window.innerWidth,height:window.innerHeight}}).map(rs=>Rx.Observable.of(rs).delay(200)).switch().subscribe(function(x){vm.handleResize(x.width,x.height)})}},template:'\n     <transition name="modal">\n         <div :class="modalMaskClass" :style="modalMaskStyle" id="modalMask" ref="modalMask" v-on:click="closeModal">\n            <div :class="modalWrapperClass">\n                <div class="modal-container">\n                    <div class="modal-header">\n                        <h3><slot name="header"></slot></h3>\n                    </div>\n                    <div :class="modalBodyClass">\n                        <slot name="body"></slot>\n                    </div>\n                    <div class="modal-footer">\n                        <button class="btn btn-success" v-on:click="$emit(\'close\')">\n                            Ok\n                        </button>\n                    </div>\n                </div>\n           </div>\n       </div>\n    </transition >'});